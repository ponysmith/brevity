(function(b,c){if(typeof define==="function"&&define.amd){define(function(){return(b.brevity=c())})}else{b.brevity=c()}}(this,function(b){return function(f,e){var c={root:document.getElementsByTagName("body")[0]};function d(k){switch(k.nodeType){case 1:if(k.childNodes&&!/script|style|abbr/i.test(k.tagName)){for(var j=0;j<k.childNodes.length;j++){d(k.childNodes[j])}}break;case 3:for(var j=0,g=f.length;j<g;j++){a=f[j];var h=k.data.match("\\b"+a.abbr+"\\b");if(h){elem=document.createElement("abbr");elem.setAttribute("title",a.title);elem.innerHTML=a.abbr.substr(a.abbr.lastIndexOf(":")+1);var m=k.splitText(h.index);m.splitText(h[0].length);m.parentNode.replaceChild(elem,m)}}break}}for(o in e){if(c[o]!=null){c[o]=e[o]}}d(c.root)}}));